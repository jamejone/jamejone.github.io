<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>It’s called ‘CRUD’ for a reason | So long, and thanks for all the bits</title> <meta name="generator" content="Jekyll v4.2.0"/> <meta property="og:title" content="It’s called ‘CRUD’ for a reason"/> <meta name="author" content="James Jones"/> <meta property="og:locale" content="en_US"/> <meta name="description" content="Most modern ways of doing things can be traced back to a historical problem that was solved using the path of least resistance."/> <meta property="og:description" content="Most modern ways of doing things can be traced back to a historical problem that was solved using the path of least resistance."/> <link rel="canonical" href="https://jamejone.github.io/2019/10/30/its-called-crud-for-a-reason/"/> <meta property="og:url" content="https://jamejone.github.io/2019/10/30/its-called-crud-for-a-reason/"/> <meta property="og:site_name" content="So long, and thanks for all the bits"/> <meta property="og:type" content="article"/> <meta property="article:published_time" content="2019-10-30T00:00:00+00:00"/> <meta name="twitter:card" content="summary"/> <meta property="twitter:title" content="It’s called ‘CRUD’ for a reason"/> <script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"https://jamejone.github.io/2019/10/30/its-called-crud-for-a-reason/"},"description":"Most modern ways of doing things can be traced back to a historical problem that was solved using the path of least resistance.","url":"https://jamejone.github.io/2019/10/30/its-called-crud-for-a-reason/","@type":"BlogPosting","headline":"It’s called ‘CRUD’ for a reason","dateModified":"2021-06-13T18:07:01+00:00","datePublished":"2019-10-30T00:00:00+00:00","author":{"@type":"Person","name":"James Jones"},"@context":"https://schema.org"}</script> <meta property=”og:image” content="https://jamejone.github.io/public/transaction-addicted.jpg"/> <meta name="theme-color" content="#313131"/> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png"> <link rel="shortcut icon" href="/public/favicon.ico"> <link rel="manifest" href="/manifest.json"> <link rel="alternate" type="application/atom+xml" title="So long, and thanks for all the bits" href="https://jamejone.github.io/feed"> <style type="text/css">*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}html,body{margin:0;padding:0}html{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif;font-size:16px;line-height:1.5}@media(min-width:38em){html{font-size:20px}}body{color:#ccc;background-color:#313131;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}a{color:#268bd2;text-decoration:none}a:hover,a:focus{text-decoration:underline}img{display:block;max-width:100%;margin:0 0 1rem;border-radius:5px}table{margin-bottom:1rem;width:100%;font-size:85%;border:1px solid #515151;border-collapse:collapse}td,th{padding:.25rem .5rem;border:1px solid #515151}th{text-align:left}tbody tr:nth-child(odd) td,tbody tr:nth-child(odd) th{background-color:#313131}code,pre{font-family:Menlo,Monaco,"Courier New",monospace}code{padding:.25em .5em;font-size:85%;color:#bf616a;background-color:#313131;border-radius:3px}pre{margin-top:0;margin-bottom:1rem}pre code{padding:0;font-size:100%;color:inherit;background-color:transparent}.highlight{padding:1rem;margin-bottom:1rem;font-size:.8rem;line-height:1.4;background-color:#313131;border-radius:.25rem}.highlight pre{margin-bottom:0;overflow-x:auto}.highlight .lineno{display:inline-block;padding-right:.75rem;padding-left:.25rem;color:#767676;-webkit-user-select:none;-moz-user-select:none;user-select:none}.container{max-width:38rem;padding-left:1.5rem;padding-right:1.5rem;margin-left:auto;margin-right:auto}footer{margin-bottom:2rem}.masthead{padding-top:1rem;padding-bottom:1rem;margin-bottom:2rem}.masthead-title{margin-top:0;margin-bottom:0;color:#ccc}.masthead-title a{color:inherit}.masthead-title small{font-size:75%;font-weight:400;opacity:.5}.message{margin-bottom:1rem;padding:1rem;color:#767676;background-color:#313131}.pagination{overflow:hidden;margin:0 -1.5rem 1rem;color:#515151;text-align:center}.pagination-item{display:block;padding:1rem;border:solid #515151;border-width:1px 0}.pagination-item:first-child{margin-bottom:-1px}a.pagination-item:hover{background-color:#313131}@media(min-width:30em){.pagination{margin:3rem 0}.pagination-item{float:left;width:50%;border-width:1px}.pagination-item:first-child{margin-bottom:0;border-top-left-radius:4px;border-bottom-left-radius:4px}.pagination-item:last-child{margin-left:-1px;border-top-right-radius:4px;border-bottom-right-radius:4px}}.page,.post{margin-bottom:4em}.page li+li,.post li+li{margin-top:.25rem}.page-title,.post-title,.post-title a{color:#f9f9f9}.page-title,.post-title{margin-top:0}.post-date{display:block;margin-top:-.5rem;margin-bottom:1rem;color:#767676}.related{padding-top:2rem;padding-bottom:2rem;margin-bottom:2rem;border-top:1px solid #eee;border-bottom:1px solid #eee}.related-posts{padding-left:0;list-style:none}.related-posts h3{margin-top:0}.related-posts li small{font-size:75%;color:#999}.related-posts li a:hover{color:#268bd2;text-decoration:none}.related-posts li a:hover small{color:inherit}.highlight code,.highlight pre{color:#fdce93;background-color:#3f3f3f}.highlight .hll{background-color:#222}.highlight .err{color:#e37170;background-color:#3d3535}.highlight .k{color:#9eddfc}.highlight .p{color:#d4d4d4}.highlight .cs{color:#cd0000;font-weight:700}.highlight .gd{color:#cd0000}.highlight .ge{color:#ccc;font-style:italic}.highlight .gr{color:red}.highlight .go{color:gray}.highlight .gs{color:#ccc;font-weight:700}.highlight .gu{color:purple;font-weight:700}.highlight .gt{color:#0040d0}.highlight .kc{color:#dca3a3}.highlight .kd{color:#ffff86}.highlight .kn{color:#dfaf8f;font-weight:700}.highlight .kp{color:#cdcf99}.highlight .kr{color:#cdcd00}.highlight .ni{color:#c28182}.highlight .ne{color:#c3bf9f;font-weight:700}.highlight .nn{color:#8fbede}.highlight .vi{color:#ffffc7}.highlight .c,.highlight .g,.highlight .cm,.highlight .cp,.highlight .c1{color:#7f9f7f}.highlight .l,.highlight .x,.highlight .no,.highlight .nd,.highlight .nl,.highlight .nx,.highlight .py,.highlight .w{color:#ccc}.highlight .n,.highlight .nv,.highlight .vg{color:#d4d4d4}.highlight .o,.highlight .ow{color:#f0efd0}.highlight .gh,.highlight .gp{color:#dcdccc;font-weight:700}.highlight .gi,.highlight .kt{color:#9eddfc}.highlight .ld,.highlight .s,.highlight .sb,.highlight .sc,.highlight .sd,.highlight .s2,.highlight .se,.highlight .sh,.highlight .si,.highlight .sx,.highlight .sr,.highlight .s1,.highlight .ss{color:#cc9393}.highlight .m,.highlight .mf,.highlight .mh,.highlight .mi,.highlight .mo,.highlight .il{color:#8cd0d3}.highlight .na,.highlight .nt{color:#9ac39f}.highlight .nb,.highlight .nc,.highlight .nf,.highlight .bp,.highlight .vc{color:#dcdbac}h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:600;line-height:1.25;color:#f9f9f9;text-rendering:optimizeLegibility}
h1{font-size:2rem}h2{margin-top:1rem;font-size:1.5rem}h3{margin-top:1.5rem;font-size:1.25rem}h4,h5,h6{margin-top:1rem;font-size:1rem}p{margin-top:0;margin-bottom:1rem}ul,ol,dl{margin-top:0;margin-bottom:1rem}dt{font-weight:bold}dd{margin-bottom:.5rem}hr{position:relative;margin:1.5rem 0;border:0;border-top:1px solid #eee;border-bottom:1px solid #fff}abbr{font-size:85%;font-weight:bold;color:#555;text-transform:uppercase}abbr[title]{cursor:help;border-bottom:1px dotted #e5e5e5}blockquote{padding:.5rem 1rem;margin:.8rem 0;color:#7a7a7a;border-left:.25rem solid #e5e5e5}blockquote p:last-child{margin-bottom:0}@media(min-width:30em){blockquote{padding-right:5rem;padding-left:1.25rem}}a[href^="#fn:"],a[href^="#fnref:"]{display:inline-block;margin-left:.1rem;font-weight:bold}.footnotes{margin-top:2rem;font-size:85%}.lead{font-size:1.25rem;font-weight:300}</style> </head> <body> <div class="container content"> <header class="masthead"> <h3 class="masthead-title"> <a href="/" title="Home">So long, and thanks for all the bits</a> </h3> <h3 class="masthead-title"> <small>an engineering blog</small> </h3> <div style="margin: 3rem auto 0 auto; height: 92px;"> <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CE7IT2JE&placement=blogcumulosoftwarecom" id="_carbonads_js"></script> <style type="text/css">#carbonads img{margin-bottom:0}#carbonads{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",Helvetica,Arial,sans-serif}#carbonads{display:block;overflow:hidden;max-width:700px;position:relative;border:solid 1px #444;box-sizing:content-box}#carbonads>span{display:block}#carbonads a{color:inherit;text-decoration:none}#carbonads a:hover{color:inherit}.carbon-wrap{display:flex;align-items:center}.carbon-img{display:block;margin:0;line-height:1}.carbon-img img{display:block;height:90px;width:auto}.carbon-text{display:block;padding:0 1em;line-height:1.35;text-align:left}.carbon-poweredby{display:block;position:absolute;bottom:0;right:0;padding:6px 10px;background:repeating-linear-gradient(-45deg,transparent,transparent 5px,hsla(0,0,0,.025) 5px,hsla(0,0,0,.025) 10px) hsla(203,11%,15%,.4);text-align:center;text-transform:uppercase;letter-spacing:.5px;font-weight:600;font-size:8px;border-top-left-radius:4px;line-height:1}@media only screen and (min-width:320px) and (max-width:759px){.carbon-text{font-size:14px}}</style> </div> </header> <main> <article class="post"> <h1 class="post-title">It's called 'CRUD' for a reason</h1> <span class="post-date"> <time datetime="2019-10-30T00:00:00+00:00">Oct 30, 2019</time> &middot; 4 min read </span> <picture><source srcset="/generated/public/transaction-addicted-400-d621ba223.webp 400w, /generated/public/transaction-addicted-575-d621ba223.webp 575w" type="image/webp"><source srcset="/generated/public/transaction-addicted-400-d621ba223.jpg 400w, /generated/public/transaction-addicted-575-d621ba223.jpg 575w" type="image/jpeg"><img src="/generated/public/transaction-addicted-575-d621ba223.jpg"></picture> <blockquote> <p><em>“To err is human, but to really foul things up you need a computer.”</em></p> <p>-Paul R. Ehrlich</p> </blockquote> <p>Many business processes that exist today were born out of old fashioned paper/form-driven processes. This is because paper was invented before computers were invented. Had computers been invented first, you might imagine a completely different world in which you place an order online to buy something and your browser spins until the package arrives on your doorstep.</p> <p>I’m kidding, sort of.</p> <p>Many enterprise software systems are less exaggerated versions of this. In some cases I’ve seen ‘submit’ buttons routinely keep the user waiting as long as several minutes for the underlying transaction to complete.</p> <p>Why has the bar fallen this low? And how can we fix it? In this post we’ll dive into exactly that.</p> <h3 id="history-doesnt-repeat-itself-but-it-often-rhymes">History doesn’t repeat itself, but it often rhymes</h3> <p>Most modern ways of doing things can be traced back to a historical problem that was solved using the path of least resistance. From the icons on your phone to the arrangement of the keys on your keyboard, these enduring vestiges of the past surround us.</p> <p>Back when the world was run on paper, modifying a piece of information might have meant moving a giant, heavy filing cabinet. It made much more sense to grab a fresh form and fill it out, with the intent of replacing the original form later on. This is a very intuitive practice because the cabinet is heavy and slow, and there aren’t significant consequences for updating original form at your convenience. And if finance wants to do a quarter-end process that takes a few days and depends on these forms, you can let them do their thing unbothered by everyone wanting to update their information. Many processes like this exist because they feel natural.</p> <p>Fast forward to the digital age, our first (and correct) assumption is that computers are fast. To assume otherwise would be a missed opportunity to design a simpler system that performs adequately. In the industry this dilemma is known as “premature optimization.” In the typical lifecycle of a software system, the first step is to build a rudimentary proof-of-concept that’s gradually modified to accommodate the increased demands placed upon it.</p> <p>The simplest kind of computer information system is a CRUD-like design. CRUD stands for Create/Read/Update/Delete, which refers to the way data is stored on the system. In this kind of system, every entity in the system reflects its most recent write. If the need arises to keep multiple entities in a consistent state or capture the state of the system at a single point in time, a dark magic known as ACID transactions are employed. A CRUD design is effectively the same as the paper-driven process except your data entry person is The Flash and is capable of immediately updating information upon arrival and can also generate any kind of report you need, when you need it.</p> <p>The unfortunate reality is that even The Flash has his limits. CPU speeds haven’t budged in decades and data requirements continue to grow exponentially. And as it turns out, <a href="https://pdfs.semanticscholar.org/136c/3bb91cb7984fa7add24d197f1056465e0975.pdf">ACID transactions aren’t magic</a>. They typically rely on a mix of locks (which reduce system availability) or optimistic concurrency (which reduces reliability and consistency). These effects are ever more pronounced as the system scales. <a href="https://en.wikipedia.org/wiki/CAP_theorem">Mutable state, scalability and consistency are sworn enemies</a>.</p> <p>Like a thin layer of filth (crud?) that slowly accumulates on your lenses, it can be difficult to notice that you’ve gradually moved the goalposts on the responsiveness of the system. It’s tempting to blame the CAP theorem for your woes and settle for investing weeks of developer time into regaining marginal amounts of lost ground. Any progress can seem impressive when you’re desperate enough. But fear not, there’s solution to all of this, you just haven’t seen it in a very, very long time.</p> <h3 id="meet-the-new-process-same-as-the-old-process">Meet the new process, same as the old process</h3> <p>It would be easy for me to throw software developers under the bus for not championing a solution to this problem. The reality is that business process owners are equally culpable. After all, early business process owners were able to conquer these issues using the slowest and most error-prone computers of all – human beings.</p> <p>The major difference between the slow, paper-driven processes of yore and the “fast,” computer-driven processes of today is something called “temporality.” It’s this idea that you can have multiple versions of a piece of information, each valid as of their respective points in time. By incorporating the dimension of time, the system can recall what its exact state was at any given point in time.</p> <p>Early information systems possessed elements of temporal systems by virtue of the fact that the easiest thing to do was to version the data stored within them. By intentionally utilizing this concept in digital information systems, we can achieve a whole new level of scalability, responsiveness, reliability, testability and simplicity. I can’t wait to show you how easy it can be to design this sort of system. Stay tuned.</p> <p><strong>See the follow-up blog post:</strong> <a href="/2019/11/14/temporal-repository-implementation-using-mongodb-and-aspnet-core/">Temporal repository implementation using MongoDB and ASP.NET</a></p> <h3>Thanks for reading. Feel free to leave a comment.</h3> <script src="https://utteranc.es/client.js" repo="jamejone/jamejone.github.io" issue-term="og:title" label="utterances" theme="photon-dark" crossorigin="anonymous" async> </script> </article> <aside class="related"> <h3>Related posts</h3> <ul class="related-posts"> <li> <a href="/2019/11/14/temporal-repository-implementation-using-mongodb-and-aspnet-core/"> Temporal repository implementation using MongoDB and ASP.NET Core <small><time datetime="2019-11-14T00:00:00+00:00">14 Nov 2019</time></small> </a> </li> <li> <a href="/2019/01/22/real-time-by-accident/"> Real-time by accident <small><time datetime="2019-01-22T00:00:00+00:00">22 Jan 2019</time></small> </a> </li> <li> <a href="/2019/03/02/put-your-aspnet-core-controller-on-a-diet-with-middleware/"> Put your ASP.NET Core controller on a diet with middleware <small><time datetime="2019-03-02T00:00:00+00:00">02 Mar 2019</time></small> </a> </li> </ul> </aside> </main> <footer class="footer"> <small> &copy; <time datetime="2021-06-13T18:09:43+00:00">2021</time>. All rights reserved. </small> </footer> </div> <script async src="https://www.googletagmanager.com/gtag/js?id=G-MYYT4724GY"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-MYYT4724GY");</script> </body> </html>